Alt+insert -> 생성자, getter, setter 생성_텍스트

form : 입력 폼 태그

Post는 데이터를 폼에 넣어서 전달할 때(등록)
Get은 데이터를 조회할 때 사용
  
------------

#### 스프링 DB 접근 기술

* 스프링 데이터 액세스

cmd에서 실행 시 ./h2.sh (윈도우 사용자는 h2.bat)
jdbc:h2:tcp://localhost/~/test 로 JDBC URL 잡고 접속해야 충돌 안남
```
drop table if exists member CASCADE;

create table member(
    id bigint generated by default as identity,
    name varchar(255),
    primary key (id)
);
```

- generated by default as identity : null 값이면 DB가 값을 임의로 채움(= auto_increment)

#### 순수 JDBC
* 개방-폐쇄 원칙(OCP, Open-Closed Principle)
** 확장에는 열려있고, 수정, 변경에는 닫혀있다.
* 스프링의 DI (Dependencies Injection)을 사용하면 기존 코드를 전혀 손대지 않고, 설정만으로 구현 클래스를 변경할 수 있다.
* 데이터를 DB에 저장하므로 스프링 서버를 다시 실행해도 데이터가 안전하게 저장된다.

#### 스프링 통합 테스트
springContainer한테 memberservicerepo 내놔!! 할 수 있음

@Transactional: Test 케이스에 넣으면 Test 실행할 때마다 이전 커밋들을 rollback 해줌 -> DB data 모두 사라짐

@SpringBootTest : 스프링 컨테이너와 테스트를 함께 실행한다.

#### 스프링 JdbcTemplate
- 스프링 JdbcTemplate과 MyBatis 같은 라이브러리는 JDBC API에서 본 반복 코드를 대부분 제거한다. But SQL문은 **직접** 작성해줘야함!


@Autowired // 생성자 하나면 Autowired 생략 가능
Alt+Enter -> 람다로 변경

#### JPA(Java persistence API)
- JPA는 기존의 반복 코드는 물론이고, 기본적인 SQL도 JPA가 직접 만들어서 실행해준다.
- SQL과 데이터 중심의 설계에서 **객체 중심**의 설계로 패러다임을 전환을 할 수 있다.
- JPA를 사용하면 개발 생산성을 크게 높일 수 있음
- JPA는 인터페이스
- JPA 사용시 엔터티와 맵핑을 시켜줘야함. PK도 맵핑해야함
- JPA는 엔티티메니저 주입!

@Id @GeneratedValue(strategy = **GenerationType.IDENTITY**)
(DB가 자동으로 설정해주는 값은 IDENTITY라고 설정함)

Ctrl+alt+n -> liline code로 정리해줌

```
List<Member> result = em.createQuery("select m from Member m", Member.class)
                .getResultList();
        return result;
// 이렇게 변함        
return em.createQuery("select m from Member m", Member.class)
                .getResultList();
```
-> 엔터티 대상으로 쿼리를 날리고 있음. 객체로 반환되는 이유이다.

JPA 사용시 트랜잭션 꼭 달아줘야함
#### 스프링 데이터 JPA
- 인터페이스 만으로 개발을 완료할 수 있음
https://www.inflearn.com/questions/172270
---

#### AOP

**[AOP가 필요한 상황]**
1. 모든 메소드의 호출 시간을 측정하고 싶을 때
2. 공통 관심 사항과 핵심 공통 사항을 분리함으로써
3. 필요한 곳에서 호출함
